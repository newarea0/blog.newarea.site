# 部署多个应用

为了让一台服务器可以处理访问多个域名的不同请求，我们用“虚拟主机”来定义一种域名的处理方式，在 Nginx 中这对应着一个`server`块。因此，HTTP 请求到达时，Nginx 首先要找到处理它的 `server` 配置块。

## 不同端口

1 台服务器、1 个域名，通过不同端口部署多个应用。

```
server {
    listen 80;
    server_name demo.newarea.site;
    root /home/www/80;
}

server {
    listen 82;
    server_name demo.newarea.site;
    root /home/www/82;
}
```

`http://demo.newarea.site/` 访问 80 端口的应用

`http://demo.newarea.site:82/` 访问 82 端口的应用

## 不同域名

1 台服务器、1 个端口，通过不同域名部署多个应用。

```
server {
    listen 80;
    server_name demo.newarea.site;
    root /home/www/demo.newarea.site;
}

server {
    listen 80;
    server_name demo1.newarea.site;
    root /home/www/demo1.newarea.site;
}
```

`http://demo.newarea.site/` 访问 demo 应用

`http://demo1.newarea.site/` 访问 demo1 应用

## 不同路径

1 台服务器、1 个域名，通过不同路径部署多个应用。

```
server {
    listen 80;
    server_name demo.newarea.site;
    root /home/www/demo.newarea.site;

    location / {
        root /home/www/demo.newarea.site;
    }

    location /demo1 {
        root /home/www/demo1.newarea.site;
    }
}
```

`http://demo.newarea.site/` 访问 demo 应用

`http://demo.newarea.site/demo1/` 访问 demo1 应用
